{"version":3,"sources":["images/logo.svg","images/edit-icon.svg","images/no-image.svg","images/success.svg","images/fail.svg","components/Header.js","components/Footer.js","components/InfoTooltip.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AgreementPopup.js","components/ImagePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","className","src","logo","alt","actionName","href","userEmail","to","onClick","onLogout","linkTo","Footer","InfoTooltip","isOpen","id","name","onClose","statusImage","status","title","type","CurrentUserContext","React","createContext","Card","memo","currentUser","useContext","didUserLiked","card","likes","some","x","_id","link","onError","e","target","errorImage","data-url","data-alt","onCardClick","onCardLike","length","owner","onDeleteCardClick","Main","onEditAvatarClick","avatar","editAvatarIcon","onEditProfileClick","about","onAddPlaceLink","cards","map","cardInfo","key","Login","useState","email","setEmail","password","setPassword","onSubmit","preventDefault","onSignin","onChange","value","placeholder","required","Register","onSignup","ProtectedRoute","Component","component","loggedIn","PopupWithForm","noValidate","children","submitAvailable","disabled","submitButtonText","EditProfilePopup","setName","description","setDescription","nameError","setNameError","descriptionError","setDescriptionError","useEffect","onUserUpdate","minLength","maxLength","pattern","validity","valid","validationMessage","AgreementPopup","deletedCard","ImagePopup","opened","projectApi","options","this","_baseUrl","baseUrl","_headers","headers","fetch","authorization","then","res","ok","json","Promise","reject","method","body","JSON","stringify","newUrl","resolve","cardID","EditAvatarPopup","inputValue","useRef","urlError","setUrlError","current","onAvatarUpdate","ref","AddPlacePopup","placeName","setPlaceName","placeUrl","setPlaceUrl","onAddPlaceSubmit","BASE_URL","App","isEditProfilePopupOpen","setProfilePopupOpened","isAddPlacePopupOpen","setPlacePopupOpened","isEditAvatarPopupOpen","setAvatarPopupOpened","isAgreementAvatarOpen","setAgreementPopupOpened","main","register","isInfoTooltipOpen","setInfoTooltipOpened","img","selectedCard","setSelectedCard","setCurrentUser","setDeletedCard","setCards","setUserEmail","setLoggedIn","history","useHistory","all","getUserInfo","getInitialCards","userInfo","cardsArr","catch","err","console","log","alert","token","localStorage","getItem","result","Error","data","push","handleEditProfileClick","handleEditAvatarClick","handleAddPlaceLink","handleDeleteCardClick","handleCardClick","closeAllPopups","classList","contains","replaceCard","newCard","newCards","handleCardLike","deleteLike","putLike","handleSubmitCardDelete","deleteCard","filter","handleUpdateUser","changeUserInfo","newInfo","handleAvatarUpdate","changeAvatar","handleAddPlaceSubmit","addCard","handleLogout","removeItem","Provider","path","auth","setItem","failureImage","successImage","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.4c125a2e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit-icon.34c46850.svg\";","module.exports = __webpack_public_path__ + \"static/media/no-image.c8f10325.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/fail.c32299fa.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  const handleLogout = () => {props.onLogout()}\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"логотип сервиса Mesto\" />\r\n      {props.actionName === 'Выйти' ?\r\n\r\n        <div className=\"header__menu\">\r\n          <a className=\"default-link header__link header__link_type_email\" href=\"mailto:vlad@webref.ru\">{props.userEmail}</a>\r\n          <Link className=\"default-link header__link header__link_type_exit\" to='/sign-in' onClick={handleLogout}>Выйти</Link>\r\n        </div> :\r\n\r\n        <Link className=\"default-link header__link\" to={props.linkTo}>{props.actionName}</Link>\r\n      }\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <div className={props.isOpen ? 'popup popup_opened' : 'popup'} id={`popup-${props.name}`} onClick={props.onClose}>\r\n      <div className=\"popup__container\">\r\n        <img className=\"popup__status-image\" src={props.statusImage} alt={`Картинка статуса регистрации: ${props.status}`}/>\r\n        <p className=\"popup__status-caption\">{props.title}</p>\r\n        <button className=\"default-button popup__close-button\" type=\"button\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport errorImage from '../images/no-image.svg';\r\n\r\nconst Card = React.memo((props) => {\r\n\r\n  const handleCardClick = () => props.onCardClick(props.card);\r\n  const hadleCardLike = () => props.onCardLike(props.card);\r\n  const handleDeleteCard = () => props.onDeleteCardClick(props.card);\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const didUserLiked = props.card.likes.some(x => x._id === currentUser._id);\r\n\r\n  return (\r\n    <figure className=\"card\">\r\n      <img className=\"card__image\" src={props.card.link} alt={props.card.name} onError={e=>e.target.src=errorImage}/>\r\n      <div className=\"card__shadow-rect\" data-url={props.card.link} data-alt={props.card.name} onClick={handleCardClick} />\r\n      <figcaption className=\"card__caption-content\">\r\n        <p className=\"card__caption\">{props.card.name}</p>\r\n        <div className=\"card__likes-block\">\r\n          <button className={`default-button card__like-button ${didUserLiked ?\r\n            'card__like-button_checked' : ''}`} type=\"button\" onClick={hadleCardLike}/>\r\n          <span className=\"card__likes-counter\">{props.card.likes.length}</span>\r\n        </div>\r\n        <button className={`default-button card__delete-button ${currentUser._id === props.card.owner._id ?\r\n          '' : 'card__delete-button_hidden'}`} type=\"button\" onClick={handleDeleteCard}/>\r\n      </figcaption>\r\n    </figure>\r\n  );\r\n})\r\n\r\nexport default Card;\r\n","import React from 'react';\nimport editAvatarIcon from '../images/edit-icon.svg';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__content\">\n          <div className=\"profile__avatar-block\" onClick={props.onEditAvatarClick}>\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар пользователя\" />\n            <div className=\"profile__shadow-rect\" />\n            <img className=\"profile__edit-icon\" src={editAvatarIcon} alt=\"иконка редактирования аватара\" />\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button className=\"default-button profile__edit-button\" type=\"button\" onClick={props.onEditProfileClick} />\n            <p className=\"profile__description\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button className=\"default-button profile__add-button\" type=\"button\" onClick={props.onAddPlaceLink} />\n      </section>\n      <section className=\"gallery\">\n        {props.cards.map(cardInfo => <Card\n          key={cardInfo._id}\n          card={cardInfo}\n          onCardClick={props.onCardClick}\n          onDeleteCardClick={props.onDeleteCardClick}\n          onCardLike={props.onCardLike}\n        />)}\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  const handlePasswordChange = (e) => {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  const handleSigninSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onSignin(email, password);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={handleSigninSubmit}>\r\n        <h1 className=\"form__title\">Вход</h1>\r\n        <input\r\n          type=\"email\"\r\n          onChange={handleEmailChange}\r\n          id=\"sign-in-email\"\r\n          className=\"form__item\"\r\n          placeholder=\"Email\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          onChange={handlePasswordChange}\r\n          id=\"sign-in-password\"\r\n          className=\"form__item form__item_second\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n        />\r\n        <button type=\"submit\" className=\"default-button form__submit-button\">Войти</button>\r\n        <p className=\"form__caption\">Ещё не зарегистрированы? <Link className=\"default-link form__link\" to=\"/sign-up\">Регистрация</Link></p>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction Register(props) {\r\n\r\n  const [password, setPassword] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n\r\n  const handlePasswordCahnge = (e) => {setPassword(e.target.value)};\r\n  const handleEmailChange = (e) => {setEmail(e.target.value)};\r\n  const handleSubmit= (e) => {\r\n    e.preventDefault();\r\n    props.onSignup(email, password);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n        <h1 className=\"form__title\">Регистрация</h1>\r\n        <input\r\n          type=\"email\"\r\n          id=\"sign-in-email\"\r\n          className=\"form__item\"\r\n          placeholder=\"Email\"\r\n          onChange={handleEmailChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          id=\"sign-in-password\"\r\n          className=\"form__item form__item_second\"\r\n          placeholder=\"Пароль\"\r\n          onChange={handlePasswordCahnge}\r\n          required\r\n        />\r\n        <button type=\"submit\" className=\"default-button form__submit-button\">Регистрация</button>\r\n        <p className=\"form__caption\">Уже зарегистрированы? <Link className=\"default-link form__link\" to=\"/sign-in\">Войти</Link></p>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nfunction ProtectedRoute({component: Component, ...props}) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />}\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={props.isOpen ? 'popup popup_opened' : 'popup'} id={`popup-${props.name}`} onClick={props.onClose}>\r\n      <form className=\"popup__container\" onSubmit={props.onSubmit} noValidate>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        {props.children}\r\n        <button\r\n          className={`default-button popup__save-button ${props.submitAvailable ? '' : 'popup__save-button_disabled'}`}\r\n          disabled={!props.submitAvailable}\r\n          type=\"submit\">{props.submitButtonText}\r\n        </button>\r\n        <button className=\"default-button popup__close-button\" type=\"button\" onClick={props.onClose} />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [descriptionError, setDescriptionError] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const handleChangeName = (e) => {\r\n    setName(e.target.value);\r\n    if (!e.target.validity.valid)\r\n      setNameError(e.target.validationMessage)\r\n    else\r\n      setNameError('')\r\n  }\r\n\r\n  const handleChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n    if (!e.target.validity.valid)\r\n      setDescriptionError(e.target.validationMessage)\r\n    else\r\n      setDescriptionError('')\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onUserUpdate(name, description)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n    setNameError('');\r\n    setDescriptionError('');\r\n  }, [currentUser, props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      submitButtonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      submitAvailable={nameError || descriptionError ? false : true}\r\n      {...props}\r\n    >\r\n      <input\r\n        className=\"popup__item popup__item_type_name\"\r\n        id=\"input-name\"\r\n        type=\"text\"\r\n        name=\"profile-name\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\" maxLength=\"40\"\r\n        pattern=\"[A-Za-zА-Яа-яЁё\\s\\-]*\"\r\n        required\r\n        value={name || ''}\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className={`popup__error ${nameError ? 'popup__error_visible' : ''}`} id=\"input-name-error\">{nameError}</span>\r\n      <input\r\n        className=\"popup__item popup__item_type_description\"\r\n        id=\"input-description\"\r\n        type=\"text\"\r\n        name=\"profile-description\"\r\n        placeholder=\"О себе\"\r\n        minLength=\"2\" maxLength=\"200\"\r\n        required\r\n        value={description || ''}\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className={`popup__error ${descriptionError ? 'popup__error_visible' : ''}`} id=\"input-description-error\">{descriptionError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\n\nfunction AgreementPopup(props) {\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onSubmit(props.deletedCard);\n  }\n\n  return (\n    <div className={props.isOpen ? 'popup popup_opened' : 'popup'} id={`popup-${props.name}`} onClick={props.onClose}>\n      <form className=\"popup__container\" onSubmit={handleSubmit} noValidate>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <button className=\"default-button popup__save-button\" type=\"submit\">{props.submitButtonText}</button>\n        <button className=\"default-button popup__close-button\" type=\"button\" onClick={props.onClose} />\n      </form>\n    </div>\n  )\n}\n\nexport default AgreementPopup;\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={props.card.opened ? 'popup popup_opened' : 'popup'} id=\"popup-image\" onClick={props.onClose}>\r\n      <figure className=\"popup__image-container\">\r\n        <img className=\"popup__image\" src={props.card.src} alt={props.card.alt} />\r\n        <figcaption className=\"popup__image-caption\">{props.card.alt}</figcaption>\r\n        <button className=\"default-button popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  changeUserInfo(name, about) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({name, about})\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  changeAvatar(newUrl) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({avatar: newUrl})\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({name, link})\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status);\r\n      })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return Promise.resolve()\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  putLike(cardID) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then (res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n\r\n  deleteLike(cardID) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers.authorization\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok)\r\n          return res.json();\r\n        else\r\n          return Promise.reject(res.status)\r\n      })\r\n  }\r\n}\r\n\r\nconst projectApi = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\r\n  headers: {\r\n    authorization: 'ffe2a54c-a9b3-42ed-8feb-c2a6d6aa9dd2',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default projectApi;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputValue = React.useRef();\r\n  const [urlError, setUrlError] = React.useState('Заполните это поле');\r\n\r\n   const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onAvatarUpdate(inputValue.current.value);\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    if (!e.target.validity.valid)\r\n      setUrlError(e.target.validationMessage)\r\n    else\r\n      setUrlError('')\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setUrlError('Заполните это поле');\r\n    inputValue.current.value = '';\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar-change\"\r\n      title=\"Обновить аватар\"\r\n      submitButtonText=\"Сохранить\"\r\n      submitAvailable={urlError ? false : true}\r\n      onSubmit={handleSubmit}\r\n      {...props}\r\n    >\r\n      <input\r\n        className=\"popup__item popup__item_type_name\"\r\n        id=\"input-url\"\r\n        type=\"url\"\r\n        name=\"user-avatar\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n        ref={inputValue}\r\n        onChange={handleChange}\r\n      />\r\n      <span className={`popup__error ${urlError ? 'popup__error_visible' : ''}`} id=\"input-url-error\">{urlError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [placeName, setPlaceName] = React.useState('');\r\n  const [placeUrl, setPlaceUrl] = React.useState('');\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [urlError, setUrlError] = React.useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onAddPlaceSubmit(placeName, placeUrl)\r\n  }\r\n\r\n  const handleChangeName = (e) => {\r\n    setPlaceName(e.target.value);\r\n    if (!e.target.validity.valid)\r\n      setNameError(e.target.validationMessage)\r\n    else\r\n      setNameError('')\r\n  }\r\n\r\n  const handleChangeUrl = (e) => {\r\n    setPlaceUrl(e.target.value)\r\n    if (!e.target.validity.valid)\r\n      setUrlError(e.target.validationMessage)\r\n    else\r\n      setUrlError('')\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setNameError('Заполните это поле');\r\n    setUrlError('Заполните это поле');\r\n    setPlaceName('');\r\n    setPlaceUrl('');\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-image\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      submitButtonText=\"Создать\"\r\n      submitAvailable={nameError || urlError ? false : true}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__item popup__item_type_name\"\r\n        id=\"input-place-name\"\r\n        type=\"text\"\r\n        name=\"place-name\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\" maxLength=\"30\"\r\n        onChange={handleChangeName}\r\n        value={placeName || ''}\r\n        required\r\n      />\r\n      <span className={`popup__error ${nameError ? 'popup__error_visible' : ''}`} id=\"input-place-name-error\">{nameError}</span>\r\n      <input\r\n        className=\"popup__item popup__item_type_description\"\r\n        id=\"input-url\"\r\n        type=\"url\"\r\n        name=\"place-link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleChangeUrl}\r\n        value={placeUrl || ''}\r\n        required\r\n      />\r\n      <span className={`popup__error ${urlError ? 'popup__error_visible' : ''}`} id=\"input-place-name-error\">{urlError}</span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      else {\r\n        return Promise.reject(res.status)\r\n      }\r\n    })\r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      else {\r\n        return Promise.reject(res.status)\r\n      }\r\n    })\r\n}\r\n\r\nexport const tokenCheck = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\" : `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      else {\r\n        return Promise.reject(res.status)\r\n      }\r\n    })\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport Main from './Main';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AgreementPopup from './AgreementPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport projectApi from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport successImage from '../images/success.svg';\r\nimport failureImage from '../images/fail.svg';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setProfilePopupOpened] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setPlacePopupOpened] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setAvatarPopupOpened] = React.useState(false);\r\n  const [isAgreementAvatarOpen, setAgreementPopupOpened] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpened] = React.useState({ main:false, register: false });\r\n  const [selectedCard, setSelectedCard] = React.useState({ img: '', alt: '', opened: false });\r\n\r\n  // установка состояний: Пользователь, удаляемая карточка, массив карточек, email пользователя\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [deletedCard, setDeletedCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n\r\n  // установка состояния авторизации пользователя\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  // получение данных о пользователе и массиве карточек при монтировании компонента\r\n  React.useEffect(() => {\r\n    Promise.all([projectApi.getUserInfo(), projectApi.getInitialCards()])\r\n      .then(([userInfo, cardsArr]) => {\r\n        setCurrentUser(userInfo);\r\n        setCards(cardsArr);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка подключения к серверу.')\r\n      })\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    auth.tokenCheck(localStorage.getItem('token'))\r\n      .then(result => {\r\n        if (result) {\r\n          setUserEmail(result.data.email);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n        else {\r\n          throw new Error('Ошибка текущего сеанса пользователя. Необходимо заново авторизироваться')\r\n        }\r\n      })\r\n      .catch (err => {\r\n        console.log(`Ошибка входа по токену ${err}`);\r\n        history.push('/sign-in');\r\n      })\r\n  }, [])\r\n\r\n  const handleEditProfileClick = () => {\r\n    setProfilePopupOpened(true)\r\n  }\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setAvatarPopupOpened(true)\r\n  }\r\n\r\n  const handleAddPlaceLink = () => {\r\n    setPlacePopupOpened(true)\r\n  }\r\n\r\n  const handleDeleteCardClick = (card) => {\r\n    setAgreementPopupOpened(true);\r\n    setDeletedCard(card);\r\n  }\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard({ src: card.link, alt: card.name, opened: true })\r\n  }\r\n\r\n  const closeAllPopups = (e) => {\r\n    if (e.target.classList.contains('popup') || e.target.classList.contains('popup__close-button')) {\r\n      setProfilePopupOpened(false);\r\n      setAvatarPopupOpened(false);\r\n      setPlacePopupOpened(false);\r\n      setAgreementPopupOpened(false);\r\n      setInfoTooltipOpened({ main:false, register: false });\r\n      setSelectedCard({ src: '', alt: '', opened: false })\r\n    }\r\n  }\r\n\r\n  //Функция замены карточек в массиве на новую\r\n  const replaceCard = (newCard) => {\r\n    const newCards = cards.map(card => card._id === newCard._id ? newCard : card);\r\n    setCards(newCards);\r\n  }\r\n\r\n  //Обработчик нажатия кнопки \"like\"\r\n  const handleCardLike = (card) => {\r\n    if (card.likes.some(x => x._id === currentUser._id))\r\n      projectApi.deleteLike(card._id)\r\n        .then(newCard => replaceCard(newCard))\r\n        .catch(err => {\r\n          console.log(`Ошибка ${err}`);\r\n          alert('Ошибка сервера. Повторите действие позже');\r\n        })\r\n    else\r\n      projectApi.putLike(card._id)\r\n        .then(newCard => replaceCard(newCard))\r\n        .catch(err => {\r\n          console.log(`Ошибка ${err}`);\r\n          alert('Ошибка сервера. Повторите действие позже');\r\n        })\r\n  }\r\n\r\n  //Обработчик подтверждения удаления карточки\r\n  const handleSubmitCardDelete = (card) => {\r\n    projectApi.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter(x => x._id !== card._id);\r\n        setCards(newCards);\r\n        setAgreementPopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        setAgreementPopupOpened(false)\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n  //Обработчик подтверждения изменения информации пользователя\r\n  const handleUpdateUser = (name, about) => {\r\n    projectApi.changeUserInfo(name, about)\r\n      .then(newInfo => {\r\n        setCurrentUser(newInfo);\r\n        setProfilePopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n  //Обработчик изменения аватара\r\n  const handleAvatarUpdate = (newUrl) => {\r\n    projectApi.changeAvatar(newUrl)\r\n      .then(newInfo => {\r\n        setCurrentUser(newInfo);\r\n        setAvatarPopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n  //Обработчик добавления карточки\r\n  const handleAddPlaceSubmit = (name, link) => {\r\n    projectApi.addCard(name, link)\r\n      .then(card => {\r\n        setCards([card, ...cards]);\r\n        setPlacePopupOpened(false);\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка ${err}`);\r\n        alert('Ошибка сервера. Попробуйте повторить действие позже.');\r\n      })\r\n  }\r\n\r\n   //Обработчик подтверждения регистрации\r\n   const handleSignupSubmit = (email, password) => {\r\n    auth.register(email, password)\r\n      .then(result => {\r\n        if (result) {\r\n          setUserEmail(result.data.email);\r\n          setInfoTooltipOpened({ main: true, register: false })\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n        else {\r\n          throw new Error('Не удалось завершить регистрацию')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(`Ошибка регистрации пользователя: ${err}`);\r\n        setInfoTooltipOpened({ main: false, register: true })\r\n      })\r\n  }\r\n\r\n  //Обработчик авторизации\r\n  const handleSigninSubmit = (email, password) => {\r\n    auth.authorize(email, password)\r\n      .then(data => {\r\n        if (data.token) {\r\n          localStorage.setItem('token', data.token);\r\n          setUserEmail(email);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        }\r\n        else {\r\n          throw new Error('Не удалось получить токен от сервера');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(alert(`Ошибка авторизации: ${err}. Проверьте корректность данных в полях Email и Пароль`))\r\n      })\r\n  }\r\n\r\n  //Обработчик завершения сеанса\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setUserEmail('');\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  // Компонент для отображения основной старницы\r\n  const CardsPage = () => {\r\n    return (\r\n      <>\r\n        <Header\r\n          actionName=\"Выйти\"\r\n          userEmail={userEmail}\r\n          linkTo=\"/sign-up\"\r\n          onLogout={handleLogout}\r\n        />\r\n        <Main\r\n          onEditProfileClick={handleEditProfileClick}\r\n          onEditAvatarClick={handleEditAvatarClick}\r\n          onAddPlaceLink={handleAddPlaceLink}\r\n          onCardClick={handleCardClick}\r\n          onDeleteCardClick={handleDeleteCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUserUpdate={handleUpdateUser} />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} />\r\n\r\n        <AgreementPopup\r\n          name=\"agreement\"\r\n          title=\"Вы уверены?\"\r\n          submitButtonText=\"Да\"\r\n          isOpen={isAgreementAvatarOpen}\r\n          onClose={closeAllPopups}\r\n          deletedCard={deletedCard}\r\n          onSubmit={handleSubmitCardDelete}\r\n        />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onAvatarUpdate={handleAvatarUpdate} />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipOpen.main}\r\n          onClose={closeAllPopups}\r\n          statusImage={successImage}\r\n          status=\"успех\"\r\n          title=\"Вы успешно зарегистрировались!\"\r\n        />\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Switch>\r\n          <Route path='/sign-in'>\r\n            <Header\r\n              actionName=\"Регистрация\"\r\n              userEmail=\"\"\r\n              linkTo=\"/sign-up\"\r\n            />\r\n            <Login onSignin={handleSigninSubmit}/>\r\n          </Route>\r\n          <Route path='/sign-up'>\r\n            <Header\r\n              actionName=\"Войти\"\r\n              userEmail=\"\"\r\n              linkTo=\"/sign-in\"\r\n            />\r\n            <Register onSignup={handleSignupSubmit}/>\r\n            <InfoTooltip\r\n              isOpen={isInfoTooltipOpen.register}\r\n              onClose={closeAllPopups}\r\n              statusImage={failureImage}\r\n              status=\"ошибка при регистрации\"\r\n              title=\"Что-то пошло не так! Попробуйте ещё раз.\"\r\n            />\r\n          </Route>\r\n          <ProtectedRoute path='/' component={CardsPage} loggedIn={loggedIn} />\r\n\r\n        </Switch>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}